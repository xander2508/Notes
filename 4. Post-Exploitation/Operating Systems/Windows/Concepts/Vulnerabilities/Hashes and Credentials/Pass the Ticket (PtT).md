---
tags:
  - Post-Exploitation
  - OperatingSystems
  - Windows
  - Concepts
  - Information
---
In this attack, we use a stolen Kerberos ticket to move laterally instead of an NTLM password hash.

We need a valid Kerberos ticket to perform a `Pass the Ticket (PtT)`. It can be:

- Service Ticket (TGS - Ticket Granting Service) to allow access to a particular resource.
- Ticket Granting Ticket (TGT), which we use to request service tickets to access any resource the user has privileges.

## Obtaining a Ticket 

Administer privileges are required to obtain all tickets.

On Windows, tickets are processed and stored by the LSASS (Local Security Authority Subsystem Service) process. Therefore, to get a ticket from a Windows system, you must communicate with LSASS and request it. As a non-administrative user, you can only get your tickets, but as a local administrator, you can collect everything.

See [[Mimikatz#Export Tickets]] or [[Rubeus]]

The tickets that end with `$` correspond to the computer account, which needs a ticket to interact with the Active Directory. 

User tickets have the user's name, followed by an `@` that separates the service name and the domain, for example: `[randomvalue]-username@service-domain.local.kirbi`.

> [!NOTE]
> If you pick a ticket with the service krbtgt, it corresponds to the TGT of that account.


































