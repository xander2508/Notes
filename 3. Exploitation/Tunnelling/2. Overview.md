---
tags:
  - Exploitation
  - Tunnelling
---
 [[Pivoting]] is essentially the idea of `moving to other networks through a compromised host to find more targets on different network segments`.

Pivoting's primary use is to defeat segmentation (both physically and virtually) to access an isolated network. `Tunneling`, on the other hand, is a subset of pivoting. Tunneling encapsulates network traffic into another protocol and routes traffic through it. Think of it like this:

We have a `key` we need to send to a partner, but we do not want anyone who sees our package to know it is a key. So we get a stuffed animal toy and hide the key inside with instructions about what it does. We then package the toy up and send it to our partner. Anyone who inspects the box will see a simple stuffed toy, not realizing it contains something else. Only our partner will know that the key is hidden inside and will learn how to access and use it once delivered.

Typical applications like VPNs or specialized browsers are just another form of tunnelling network traffic.

Tunnelling and pivoting is often referred to as `Lateral Movement`.

##### Tunnelling vs [[Port Forwarding]]

Port forwarding does not wrap the PDUs of one protocol in another, so it is not synonymous with tunnelling. Port forwarding is typically part of a NAT facility that accepts traffic from an allowed port, then modifies the destination address to the configured mapped IP address, and notes this so it can route outgoing traffic back correctly.

Generally the only reason why you want to encapsulate the PDUs of one protocol into another is to hide it or protect it, typically for security reasons. (PPP is a possible notable exception to this). So the great majority, if not all, of real-world tunneling scenarios will involve the user tunneling to a server that can then forward traffic elsewhere, if nothing else to localhost on that system to reach another type of server (HTTP, etc.) Typically what is doing this is some sort of tunneling or access server, i.e. an SSH server, VPN server, etc.